!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=52)}({0:function(e,t){e.exports=wp.element},1:function(e,t){e.exports=wp.components},2:function(e,t,n){"use strict";var r={};r.logo=function(e){return wp.element.createElement("svg",{width:e+"px",height:e+"px",viewBox:"0 0 53 53",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement("title",null,"Soundcheck"),wp.element.createElement("g",{id:"Soundcheck",fill:"#3BAB48"},wp.element.createElement("path",{d:"M37.1598063,1 L16.666899,1 L16.666899,1.02119114 C16.3943259,1.01009102 16.1227512,1 15.8511765,1 C7.09988132,1 0,8.16967043 0,17.0154594 L0,51 L37.1598063,51 C45.9111015,51 53,43.8353751 53,34.9905952 L53,17.0154594 C53,8.16967043 45.9111015,1 37.1598063,1 L37.1598063,1 Z M11.626792,32.1479546 C11.626792,33.1671477 10.8060773,33.9966296 9.79665806,33.9966296 C8.78324511,33.9966296 7.96752256,33.1671477 7.96752256,32.1479546 L7.96752256,23.7673616 C7.96752256,22.743123 8.78324511,21.9186866 9.79665806,21.9186866 C10.8060773,21.9186866 11.626792,22.743123 11.626792,23.7673616 L11.626792,32.1479546 Z M19.0351902,39.8352944 C19.0351902,40.8554966 18.213477,41.6849785 17.2050562,41.6849785 C16.195637,41.6849785 15.3749223,40.8554966 15.3749223,39.8352944 L15.3749223,16.0800218 C15.3749223,15.0547741 16.195637,14.2303376 17.2050562,14.2303376 C18.213477,14.2303376 19.0351902,15.0547741 19.0351902,16.0800218 L19.0351902,39.8352944 Z M27.6606823,33.9179196 C27.6606823,34.9431674 26.8399676,35.7665947 25.8315468,35.7665947 C24.8221276,35.7665947 24.0014129,34.9431674 24.0014129,33.9179196 L24.0014129,21.992351 C24.0014129,20.9721488 24.8221276,20.1426669 25.8315468,20.1426669 C26.8399676,20.1426669 27.6606823,20.9721488 27.6606823,21.992351 L27.6606823,33.9179196 Z M36.2871729,36.0895074 C36.2871729,37.1087005 35.4664582,37.9381824 34.457039,37.9381824 C33.4476198,37.9381824 32.626905,37.1087005 32.626905,36.0895074 L32.626905,19.8207633 C32.626905,18.8005611 33.4476198,17.9710791 34.457039,17.9710791 C35.4664582,17.9710791 36.2871729,18.8005611 36.2871729,19.8207633 L36.2871729,36.0895074 Z M44.8707307,32.1479546 C44.8707307,33.1671477 44.050016,33.9966296 43.0415952,33.9966296 C42.0271838,33.9966296 41.2114613,33.1671477 41.2114613,32.1479546 L41.2114613,23.7673616 C41.2114613,22.743123 42.0271838,21.9186866 43.0415952,21.9186866 C44.050016,21.9186866 44.8707307,22.743123 44.8707307,23.7673616 L44.8707307,32.1479546 Z",id:"logo"})))},r.speakable=function(e,t){return wp.element.createElement("svg",{width:"20px",height:"20px",viewBox:"0 0 78 78",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement("title",null,e),wp.element.createElement("g",{id:"Speakable",fill:t,transform:"translate(2.000000, 0.000000)"},wp.element.createElement("path",{d:"M26.4788729,69.9405038 L9.41272422,77.3999991 L12.6487443,62.8196156 C4.92071963,56.3078621 0,46.4867881 0,35.5 C0,15.8938914 15.6700338,2.13162821e-14 35,2.13162821e-14 C54.3299662,2.13162821e-14 70,15.8938914 70,35.5 C70,55.1061086 54.3299662,71 35,71 C32.0609411,71 29.2064934,70.6325615 26.4788729,69.9405038 Z M28.2601921,52.8310547 C32.6326098,44.9247652 37.1284958,38.0443001 41.7479851,32.1894531 C46.3674743,26.3346061 50.6312663,22.1269659 54.539489,19.5664062 C52.8623973,19.012367 51.3051212,18.7353516 49.867614,18.7353516 C47.5765869,18.7353516 45.7385519,19.1471313 44.3534538,19.9707031 C42.9683557,20.794275 41.3025195,22.4713415 39.3558952,25.0019531 C37.1846604,27.8170714 34.1524642,32.9156532 30.2592155,40.2978516 C29.7201503,37.76724 29.0687897,35.9891002 28.305114,34.9633789 C27.5414383,33.9376576 26.4932717,33.4248047 25.1605827,33.4248047 C23.1540623,33.4248047 20.8705565,34.5029189 18.3099968,36.6591797 C20.4962056,37.9619206 22.3903924,40.200505 23.992614,43.375 L24.8236687,45.0595703 C25.1231493,45.6735057 25.4825207,46.4671175 25.9017937,47.4404297 L27.2719108,50.6074219 C27.3917031,50.9069025 27.7211269,51.6481061 28.2601921,52.8310547 Z",id:"icon"})))},r.colors={speakable_purple:"#6A64B6",peck_green:"#3BAB48"},t.a=r},3:function(e,t){e.exports=wp.data},52:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=(n.n(r),n(3)),i=(n.n(o),n(2)),a=n(53),c=wp.i18n.__,s=wp.editPost,u=s.PluginSidebar,l=s.PluginSidebarMoreMenuItem,h=wp.plugins.registerPlugin,p=Object(o.withSelect)(function(e,t){var n=t.forceIsSaving,r=e("core/editor"),o=r.getCurrentPostId,i=r.isSavingPost,a=r.isPublishingPost,c=r.isAutosavingPost;return{postId:o(),isSaving:n||i(),isAutoSaving:c(),isPublishing:a()}})(a.a);h("soundcheck-admin-sidebar",{icon:i.a.logo(20),render:function(){return wp.element.createElement(r.Fragment,null,wp.element.createElement(l,{target:"soundcheck-admin-sidebar"},c("Soundcheck","soundcheck-admin")),wp.element.createElement(u,{name:"soundcheck-admin-sidebar",title:c("Soundcheck","soundcheck-admin")},wp.element.createElement(p,null)))}})},53:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),c=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});e(c)}return r("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=n(6),s=n.n(c),u=n(0),l=(n.n(u),n(1)),h=(n.n(l),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),p=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={includeJson:!1,selectors:[],initialized:!1},e}return a(t,e),h(t,[{key:"componentDidMount",value:function(){function e(){return t.apply(this,arguments)}var t=r(s.a.mark(function e(){var t,n,r,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wp.apiRequest({path:"/soundcheck-admin/v1/get-settings?id="+this.props.postId,method:"GET"});case 2:return t=e.sent,n={soundcheck_field_sd:t.soundcheck_field_sd?t.soundcheck_field_sd:"enabled",soundcheck_field_selector:t.soundcheck_field_selector?t.soundcheck_field_selector:"block"},e.next=6,wp.apiFetch({path:"/wp/v2/posts/"+this.props.postId,method:"GET"});case 6:return r=e.sent,o={includeJson:r.meta._soundcheck_speakable_selectors?r.meta._soundcheck_include_speakable_sd:"enabled"==n.soundcheck_field_sd,selectors:r.meta._soundcheck_speakable_selectors?JSON.parse(r.meta._soundcheck_speakable_selectors):[n.soundcheck_field_selector],initialized:!0},e.abrupt("return",this.setState(o));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"componentDidUpdate",value:function(e,t){var n=JSON.stringify(this.state),r=JSON.stringify(t);if(t.initialized&&n!=r){var o={_soundcheck_include_speakable_sd:this.state.includeJson?1:0,_soundcheck_speakable_selectors:JSON.stringify(this.state.selectors)};return wp.apiRequest({path:"/soundcheck-admin/v1/update-structured-data?id="+e.postId,method:"POST",data:o}).then(function(e){return e},function(e){return e})}}},{key:"updateSelector",value:function(e,t){var n=this.state.selectors.filter(function(e){return e!==t});e&&n.push(t),this.setState({selectors:n})}},{key:"render",value:function(){var e=this,t=!!this.state.selectors.find(function(e){return"block"==e}),n=!!this.state.selectors.find(function(e){return"meta_desc"==e}),r=!!this.state.selectors.find(function(e){return"speak_css"==e});return wp.element.createElement(l.PanelBody,{title:"Structured Data"},wp.element.createElement("h3",null,"Speakable Specification"),wp.element.createElement(l.ToggleControl,{checked:this.state.includeJson,label:"Include structured data?",help:"Places hidden ld+json markup on the page.",onChange:function(){var t=!e.state.includeJson;e.setState({includeJson:t})}}),wp.element.createElement("p",null),this.state.includeJson?wp.element.createElement(u.Fragment,null,wp.element.createElement("h3",null,"Selectors"),wp.element.createElement(l.CheckboxControl,{label:"Speakable Block",checked:t,onChange:function(t){e.updateSelector(t,"block")}}),wp.element.createElement(l.CheckboxControl,{label:"Meta Description",checked:n,onChange:function(t){e.updateSelector(t,"meta_desc")}}),wp.element.createElement(l.CheckboxControl,{label:".speakable CSS",checked:r,onChange:function(t){e.updateSelector(t,"speak_css")}}),wp.element.createElement("p",{className:"description"},"All of the speakable content found using the selectors you chose gets combined into one response in the order they appear on the page.")):null)}}]),t}(u.Component);t.a=p},6:function(e,t,n){e.exports=n(8)},8:function(e,t,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(9),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},9:function(e,t){!function(t){"use strict";function n(e,t,n,r){var i=t&&t.prototype instanceof o?t:o,a=Object.create(i.prototype),c=new f(r||[]);return a._invoke=u(e,n,c),a}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function a(){}function c(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function s(e){function t(n,o,i,a){var c=r(e[n],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"===typeof u&&y.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(u).then(function(e){s.value=e,i(s)},a)}a(c.arg)}function n(e,n){function r(){return new Promise(function(r,o){t(e,n,r,o)})}return o=o?o.then(r,r):r()}var o;this._invoke=n}function u(e,t,n){var o=E;return function(i,a){if(o===S)throw new Error("Generator is already running");if(o===O){if("throw"===i)throw a;return m()}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=l(c,n);if(s){if(s===P)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===E)throw o=O,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=S;var u=r(e,t,n);if("normal"===u.type){if(o=n.done?O:L,u.arg===P)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=O,n.method="throw",n.arg=u.arg)}}}function l(e,t){var n=e.iterator[t.method];if(n===g){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=g,l(e,t),"throw"===t.method))return P;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return P}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,P;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=g),t.delegate=null,P):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,P)}function h(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(h,this),this.reset(!0)}function d(e){if(e){var t=e[b];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(y.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=g,t.done=!0,t};return r.next=r}}return{next:m}}function m(){return{value:g,done:!0}}var g,v=Object.prototype,y=v.hasOwnProperty,w="function"===typeof Symbol?Symbol:{},b=w.iterator||"@@iterator",_=w.asyncIterator||"@@asyncIterator",k=w.toStringTag||"@@toStringTag",C="object"===typeof e,x=t.regeneratorRuntime;if(x)return void(C&&(e.exports=x));x=t.regeneratorRuntime=C?e.exports:{},x.wrap=n;var E="suspendedStart",L="suspendedYield",S="executing",O="completed",P={},j={};j[b]=function(){return this};var M=Object.getPrototypeOf,N=M&&M(M(d([])));N&&N!==v&&y.call(N,b)&&(j=N);var R=a.prototype=o.prototype=Object.create(j);i.prototype=R.constructor=a,a.constructor=i,a[k]=i.displayName="GeneratorFunction",x.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},x.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,k in e||(e[k]="GeneratorFunction")),e.prototype=Object.create(R),e},x.awrap=function(e){return{__await:e}},c(s.prototype),s.prototype[_]=function(){return this},x.AsyncIterator=s,x.async=function(e,t,r,o){var i=new s(n(e,t,r,o));return x.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},c(R),R[k]="Generator",R[b]=function(){return this},R.toString=function(){return"[object Generator]"},x.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},x.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(p),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=g),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),c=y.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&y.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,P):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),P},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),p(n),P}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;p(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:d(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=g),P}}}(function(){return this}()||Function("return this")())}});